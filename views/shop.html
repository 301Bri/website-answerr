<!-- shop.html -->

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Shop</title>
    <link rel="stylesheet" href="/styles.css">
</head>
<body>
    <header>
        <h1>Shop</h1>
        
    </header>

    <main>
        <section class="product">
            <img src="/images/product1.jpg" alt="Product 1">
            <h2>魔芋爽</h2>
            <p>爽爽</p>
            <p>$30</p>
            <p id="remainingQuantity1">Remaining Quantity: 10</p>
    <label for="quantity1">Quantity:</label>
    <input type="number" id="quantity1" name="quantity1" value="1" min="1" max="10">
    <a href="#" class="buy-button" onclick="buyProduct('Product 1', document.getElementById('quantity1').value)">Buy Now</a>
</section>

          
        </section>

        <section class="product">
            <img src="/images/product2.jpg" alt="Product 2">
            <h2>Product 2</h2>
            <p>Description of Product 2.</p>
            <p>$24.99</p>
        </section>
        <button onclick="goToDownloadPage()">Back to Download Page</button>

        <!-- Add more products as needed -->
<script>
        function goToDownloadPage() {
            window.location.href = '/download';
        }
    
    // Set the initial remaining quantity
    let remainingQuantity = 1; // Set your actual remaining quantity here

    function buyProduct(productName, quantity) {
        // Check if there's enough remaining quantity
        if (quantity <= remainingQuantity) {
            // Perform any additional actions (e.g., update remaining quantity)

            // Update remaining quantity display
            remainingQuantity -= quantity;
            document.getElementById('remainingQuantity1').textContent = `Remaining Quantity: ${remainingQuantity}`;

            // Send email with product name and quantity
            sendEmail(productName, quantity);

            // You can also redirect the user to a confirmation page or perform other actions
        } else {
            alert(`Not enough quantity available. Remaining Quantity: ${remainingQuantity}`);
        }
    }

    function sendEmail(productName, quantity) {
        // Replace the email sending logic with your actual implementation
        // Here, we are using a simple alert as a placeholder
        alert(`Email sent for purchasing ${quantity} ${productName}(s)`);
    }

</script>
    </main>
</body>
</html>
